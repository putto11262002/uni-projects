<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cart</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="js/cart.js" type="module" defer></script>
  <script src="js/external/vue.global.js"></script>
  <script src="js/external/vuex.global.js"></script>
  <script src="js/external/vuex-persistedstate.js"></script>
  <script src="js/external/axios.js"></script>
</head>
<body>
<navmenu></navmenu>
<header>
  <h1>Cart</h1>
</header>
  <main v-if="items">
    <table v-if="items.length > 0">
      <thead>
      <tr>
        <th>Product</th>
        <th class="text-end">Price</th>
        <th class="text-end">Quantity</th>
        <th class="text-end">Total</th>
      </tr>
      </thead>
      <tbody>

      <tr v-for="(saleItem, i) in items">

                <td>{{saleItem.product.name}}</td>
                <td class="text-end">{{formatCurrency(saleItem.salePrice)}}</td>
                <td class="text-end">{{formatNumber(saleItem.quantityPurchased, 0)}}</td>
              <td class="text-end">{{formatCurrency(subTotal[i])}}</td>
        <td>

        </td>
      </tr>

      </tbody>
    </table>

    <h1 v-else class="text-center">Cart is empty.</h1>

    <div class="center-content">
      <button v-if="items.length > 0"  @click.prevent="checkOut()">Check out</button>
      <a v-else href="view-products.html">Browse prducts</a>
    </div>
  </main>
</body>
</html>